"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[366],{94149:function(y,i,e){e.d(i,{Z:function(){return g}});var r=e(1413),t=e(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},A=f,h=e(91146),l=function(j,v){return t.createElement(h.Z,(0,r.Z)((0,r.Z)({},j),{},{ref:v,icon:A}))};l.displayName="LockOutlined";var g=t.forwardRef(l)},88641:function(y,i,e){e.d(i,{Z:function(){return g}});var r=e(1413),t=e(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},A=f,h=e(91146),l=function(j,v){return t.createElement(h.Z,(0,r.Z)((0,r.Z)({},j),{},{ref:v,icon:A}))};l.displayName="MailOutlined";var g=t.forwardRef(l)},63434:function(y,i,e){var r=e(1413),t=e(91),f=e(22270),A=e(84567),h=e(67294),l=e(74115),g=e(31649),p=e(85893),j=["options","fieldProps","proFieldProps","valueEnum"],v=h.forwardRef(function(u,M){var P=u.options,E=u.fieldProps,S=u.proFieldProps,L=u.valueEnum,s=(0,t.Z)(u,j);return(0,p.jsx)(g.Z,(0,r.Z)({ref:M,valueType:"checkbox",valueEnum:(0,f.h)(L,void 0),fieldProps:(0,r.Z)({options:P},E),lightProps:(0,r.Z)({labelFormatter:function(){return(0,p.jsx)(g.Z,(0,r.Z)({ref:M,valueType:"checkbox",mode:"read",valueEnum:(0,f.h)(L,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,r.Z)({options:P},E),proFieldProps:S},s))}},s.lightProps),proFieldProps:S},s))}),I=h.forwardRef(function(u,M){var P=u.fieldProps,E=u.children;return(0,p.jsx)(A.Z,(0,r.Z)((0,r.Z)({ref:M},P),{},{children:E}))}),C=(0,l.G)(I,{valuePropName:"checked"}),T=C;T.Group=v,i.Z=T},34962:function(y,i,e){e.r(i),e.d(i,{default:function(){return J}});var r=e(15009),t=e.n(r),f=e(97857),A=e.n(f),h=e(99289),l=e.n(h),g=e(5574),p=e.n(g),j=e(66116),v=e(45057),I=e(87547),C=e(94149),T=e(88641),u=e(7761),M=e(68262),P=e(5966),E=e(16434),S=e(63434),L=e(28906),s=e(82195),O=e(45360),H=e(48055),K=e(67294),N={navTheme:"realDark",layout:"top",contentWidth:"Fluid",fixedHeader:!1,fixSiderbar:!0,colorWeak:!1,title:"Mufeng-API",menu:{locale:!1},pwa:!0},G=N,$=e(73935),b=e(34240),a=e(85893),k=function(){var B=(0,L.l)(function(R){var x=R.token;return{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:x.borderRadius,":hover":{backgroundColor:x.colorBgTextHover}}});return(0,a.jsx)("div",{className:B,"data-lang":"",children:s.SelectLang&&(0,a.jsx)(s.SelectLang,{})})},Q=function(){var B=(0,K.useState)("account"),R=p()(B,2),x=R[0],Y=R[1],w=(0,s.useModel)("@@initialState"),q=w.setInitialState,_=u.A.useForm(),ee=p()(_,1),D=ee[0],ae=(0,L.l)(function(){return{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}),W=function(o){o&&(0,$.flushSync)(function(){q({loginUser:o})})},re=function(){var F=l()(t()().mark(function o(m){var d,c,z,Z,U,V;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,x!=="account"){n.next=8;break}return n.next=4,(0,v.E9)(A()({},m));case 4:d=n.sent,d.data?(c=new URL(window.location.href).searchParams,s.history.push(c.get("redirect")||"/"),W(d.data),O.ZP.success("\u767B\u5F55\u6210\u529F\uFF01")):O.ZP.error("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF\uFF01"),n.next=17;break;case 8:if(x!=="email"){n.next=17;break}return z=D.getFieldValue("email"),Z=D.getFieldValue("code"),U={email:z,code:Z},console.log(U),n.next=15,(0,v.Af)(U,{headers:{"Content-Type":"application/json"}});case 15:d=n.sent,d.data&&(V=new URL(window.location.href).searchParams,s.history.push(V.get("redirect")||"/"),W(d.data));case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),O.ZP.error("\u767B\u5F55\u5931\u8D25");case 22:case"end":return n.stop()}},o,null,[[0,19]])}));return function(m){return F.apply(this,arguments)}}(),ne=function(){var F=l()(t()().mark(function o(){var m,d,c;return t()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return m=D.getFieldValue("email"),d={email:m},Z.next=4,(0,v.M7)(d,{});case 4:c=Z.sent,c?O.ZP.success("\u9A8C\u8BC1\u7801\u53D1\u9001\u6210\u529F,\u8BF7\u6CE8\u610F\u67E5\u6536\uFF01"):O.ZP.error("\u9A8C\u8BC1\u7801\u53D1\u9001\u5931\u8D25\uFF01");case 6:case"end":return Z.stop()}},o)}));return function(){return F.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:ae,children:[(0,a.jsx)(s.Helmet,{children:(0,a.jsxs)("title",{children:["\u767B\u5F55\u9875, - ",G.title]})}),(0,a.jsx)(k,{}),(0,a.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,a.jsxs)(M.U,{form:D,contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,a.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"Mufeng API",subTitle:"\u4E00\u4E2A\u4E30\u5BCC\u7684API\u5F00\u653E\u8C03\u7528\u5E73\u53F0",initialValues:{autoLogin:!0},onFinish:function(){var F=l()(t()().mark(function o(m){return t()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,re(m);case 2:case"end":return c.stop()}},o)}));return function(o){return F.apply(this,arguments)}}(),children:[(0,a.jsx)(H.Z,{activeKey:x,onChange:Y,centered:!0,items:[{key:"account",label:"\u8D26\u53F7\u767B\u5F55"},{key:"email",label:"\u90AE\u7BB1\u6CE8\u518C\u767B\u5F55"}]}),x==="account"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{name:"userAccount",fieldProps:{size:"large",prefix:(0,a.jsx)(I.Z,{})},placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7!"}]}),(0,a.jsx)(P.Z.Password,{name:"userPassword",fieldProps:{size:"large",prefix:(0,a.jsx)(C.Z,{})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801!"}]})]}),x==="email"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{fieldProps:{size:"large",prefix:(0,a.jsx)(T.Z,{className:b.Z.prefixIcon})},name:"email",placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\uFF01",rules:[{required:!0,message:"\u90AE\u7BB1\u662F\u5FC5\u586B\u9879\uFF01"},{pattern:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,message:"\u4E0D\u5408\u6CD5\u7684\u90AE\u7BB1\uFF01"}]}),(0,a.jsx)(E.Z,{fieldProps:{size:"large",prefix:(0,a.jsx)(C.Z,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",captchaTextRender:function(o,m){return o?"".concat(m," ","\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"code",rules:[{required:!0,message:"\u8BF7\u8F93\u51656\u4F4D\u9A8C\u8BC1\u7801\uFF01"},{pattern:/^[0-9]\d{5}$/,message:"\u8BF7\u8F93\u51656\u4F4D\u6570\u5B57\u9A8C\u8BC1\u7801\uFF01"}],onGetCaptcha:ne})]}),(0,a.jsxs)("div",{style:{marginBottom:24},children:[(0,a.jsx)(S.Z,{noStyle:!0,name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"}),(0,a.jsx)(s.Link,{style:{float:"right"},to:"/user/register",children:"\u6CA1\u6709\u8D26\u53F7\uFF1F\u70B9\u51FB\u6CE8\u518C"})]})]})}),(0,a.jsx)(j.Z,{})]})},J=Q},34240:function(y,i){i.Z={container:"container___bPfJ7",lang:"lang___VODXT",content:"content___D5ZsQ",icon:"icon___TRw12"}}}]);
