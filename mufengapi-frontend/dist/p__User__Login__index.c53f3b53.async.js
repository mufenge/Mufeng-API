"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[366],{94149:function(x,l,e){e.d(l,{Z:function(){return P}});var n=e(1413),t=e(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},v=f,g=e(91146),_=function(O,m){return t.createElement(g.Z,(0,n.Z)((0,n.Z)({},O),{},{ref:m,icon:v}))};_.displayName="LockOutlined";var P=t.forwardRef(_)},88641:function(x,l,e){e.d(l,{Z:function(){return P}});var n=e(1413),t=e(67294),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},v=f,g=e(91146),_=function(O,m){return t.createElement(g.Z,(0,n.Z)((0,n.Z)({},O),{},{ref:m,icon:v}))};_.displayName="MailOutlined";var P=t.forwardRef(_)},63434:function(x,l,e){var n=e(1413),t=e(91),f=e(22270),v=e(84567),g=e(67294),_=e(74115),P=e(31649),E=e(85893),O=["options","fieldProps","proFieldProps","valueEnum"],m=g.forwardRef(function(i,A){var h=i.options,j=i.fieldProps,B=i.proFieldProps,L=i.valueEnum,r=(0,t.Z)(i,O);return(0,E.jsx)(P.Z,(0,n.Z)({ref:A,valueType:"checkbox",valueEnum:(0,f.h)(L,void 0),fieldProps:(0,n.Z)({options:h},j),lightProps:(0,n.Z)({labelFormatter:function(){return(0,E.jsx)(P.Z,(0,n.Z)({ref:A,valueType:"checkbox",mode:"read",valueEnum:(0,f.h)(L,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,n.Z)({options:h},j),proFieldProps:B},r))}},r.lightProps),proFieldProps:B},r))}),U=g.forwardRef(function(i,A){var h=i.fieldProps,j=i.children;return(0,E.jsx)(v.Z,(0,n.Z)((0,n.Z)({ref:A},h),{},{children:j}))}),R=(0,_.G)(U,{valuePropName:"checked"}),T=R;T.Group=m,l.Z=T},2067:function(x,l,e){e.r(l);var n=e(15009),t=e.n(n),f=e(97857),v=e.n(f),g=e(99289),_=e.n(g),P=e(5574),E=e.n(P),O=e(66116),m=e(45057),U=e(87547),R=e(94149),T=e(88641),i=e(7761),A=e(68262),h=e(5966),j=e(16434),B=e(63434),L=e(28906),r=e(35312),C=e(45360),V=e(48055),N=e(67294),G=e(67610),H=e(73935),$=e(34240),a=e(85893),Q=function(){var Z=(0,L.l)(function(b){var p=b.token;return{width:42,height:42,lineHeight:"42px",position:"fixed",right:16,borderRadius:p.borderRadius,":hover":{backgroundColor:p.colorBgTextHover}}});return(0,a.jsx)("div",{className:Z,"data-lang":"",children:r.SelectLang&&(0,a.jsx)(r.SelectLang,{})})},J=function(){var Z=(0,N.useState)("account"),b=E()(Z,2),p=b[0],k=b[1],Y=(0,r.useModel)("@@initialState"),w=Y.setInitialState,q=i.A.useForm(),ee=E()(q,1),F=ee[0],ae=(0,L.l)(function(){return{display:"flex",flexDirection:"column",height:"100vh",overflow:"auto",backgroundImage:"url('https://mdn.alipayobjects.com/yuyan_qk0oxh/afts/img/V-_oS6r-i7wAAAAAAAAAAAAAFl94AQBr')",backgroundSize:"100% 100%"}}),I=(0,r.useIntl)(),y=function(o){o&&(0,H.flushSync)(function(){w({loginUser:o})})},ne=function(){var D=_()(t()().mark(function o(c){var u,d,W,M,K,S,z;return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,p!=="account"){s.next=8;break}return s.next=4,(0,m.E9)(v()({},c));case 4:u=s.sent,u.data?(d=new URL(window.location.href).searchParams,r.history.push(d.get("redirect")||"/"),y(u.data)):C.ZP.error("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF\uFF01"),s.next=17;break;case 8:if(p!=="email"){s.next=17;break}return W=F.getFieldValue("email"),M=F.getFieldValue("code"),K={email:W,code:M},console.log(K),s.next=15,(0,m.Af)(K,{headers:{"Content-Type":"application/json"}});case 15:u=s.sent,u.data&&(S=new URL(window.location.href).searchParams,r.history.push(S.get("redirect")||"/"),y(u.data));case 17:s.next=23;break;case 19:s.prev=19,s.t0=s.catch(0),z=I.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),C.ZP.error(z);case 23:case"end":return s.stop()}},o,null,[[0,19]])}));return function(c){return D.apply(this,arguments)}}(),re=function(){var D=_()(t()().mark(function o(){var c,u,d;return t()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return c=F.getFieldValue("email"),u={email:c},M.next=4,(0,m.M7)(u,{});case 4:d=M.sent,d?C.ZP.success("\u9A8C\u8BC1\u7801\u53D1\u9001\u6210\u529F,\u8BF7\u6CE8\u610F\u67E5\u6536\uFF01"):C.ZP.error("\u9A8C\u8BC1\u7801\u53D1\u9001\u5931\u8D25\uFF01");case 6:case"end":return M.stop()}},o)}));return function(){return D.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:ae,children:[(0,a.jsx)(r.Helmet,{children:(0,a.jsxs)("title",{children:[I.formatMessage({id:"menu.login",defaultMessage:"\u767B\u5F55\u9875"}),"- ",G.Z.title]})}),(0,a.jsx)(Q,{}),(0,a.jsx)("div",{style:{flex:"1",padding:"32px 0"},children:(0,a.jsxs)(A.U,{form:F,contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,a.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"Mufeng API",subTitle:I.formatMessage({id:"\u4E00\u4E2A\u4E30\u5BCC\u7684API\u5F00\u653E\u8C03\u7528\u5E73\u53F0"}),initialValues:{autoLogin:!0},onFinish:function(){var D=_()(t()().mark(function o(c){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,ne(c);case 2:case"end":return d.stop()}},o)}));return function(o){return D.apply(this,arguments)}}(),children:[(0,a.jsx)(V.Z,{activeKey:p,onChange:k,centered:!0,items:[{key:"account",label:"\u8D26\u53F7\u767B\u5F55"},{key:"email",label:"\u90AE\u7BB1\u6CE8\u518C\u767B\u5F55"}]}),p==="account"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{name:"userAccount",fieldProps:{size:"large",prefix:(0,a.jsx)(U.Z,{})},placeholder:I.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u8D26\u53F7\uFF1A"}),rules:[{required:!0,message:(0,a.jsx)(r.FormattedMessage,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u8D26\u53F7!"})}]}),(0,a.jsx)(h.Z.Password,{name:"userPassword",fieldProps:{size:"large",prefix:(0,a.jsx)(R.Z,{})},placeholder:I.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801\uFF1A"}),rules:[{required:!0,message:(0,a.jsx)(r.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),p==="email"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,{fieldProps:{size:"large",prefix:(0,a.jsx)(T.Z,{className:$.Z.prefixIcon})},name:"email",placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1\uFF01",rules:[{required:!0,message:"\u90AE\u7BB1\u662F\u5FC5\u586B\u9879\uFF01"},{pattern:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,message:"\u4E0D\u5408\u6CD5\u7684\u90AE\u7BB1\uFF01"}]}),(0,a.jsx)(j.Z,{fieldProps:{size:"large",prefix:(0,a.jsx)(R.Z,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",captchaTextRender:function(o,c){return o?"".concat(c," ","\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"code",rules:[{required:!0,message:"\u8BF7\u8F93\u51656\u4F4D\u9A8C\u8BC1\u7801\uFF01"},{pattern:/^[0-9]\d{5}$/,message:"\u8BF7\u8F93\u51656\u4F4D\u6570\u5B57\u9A8C\u8BC1\u7801\uFF01"}],onGetCaptcha:re})]}),(0,a.jsxs)("div",{style:{marginBottom:24},children:[(0,a.jsx)(B.Z,{noStyle:!0,name:"autoLogin",children:(0,a.jsx)(r.FormattedMessage,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),(0,a.jsx)(r.Link,{style:{float:"right"},to:"/user/register",children:"\u6CA1\u6709\u8D26\u53F7\uFF1F\u70B9\u51FB\u6CE8\u518C"})]})]})}),(0,a.jsx)(O.Z,{})]})};l.default=J},34240:function(x,l){l.Z={container:"container___bPfJ7",lang:"lang___VODXT",content:"content___D5ZsQ",icon:"icon___TRw12"}}}]);
