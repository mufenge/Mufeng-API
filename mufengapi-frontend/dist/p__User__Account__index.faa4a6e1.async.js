"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[902],{64674:function(Ie,R,n){n.r(R),n.d(R,{default:function(){return se}});var N=n(97857),x=n.n(N),W=n(15009),u=n.n(W),X=n(99289),f=n.n(X),Y=n(5574),A=n.n(Y),k=n(78721),U=n(5914),h=n(67294),a=n(85893),q=function(o){var p=o.visible,C=o.columns,c=o.onCancel,y=o.onSubmit,j=(0,h.useRef)();return(0,a.jsx)(U.Z,{open:p,onCancel:function(){return c==null?void 0:c()},footer:null,children:(0,a.jsx)(k.QV,{type:"form",columns:C,formRef:j,onSubmit:function(){var S=f()(u()().mark(function d(P){return u()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:y==null||y(P);case 1:case"end":return w.stop()}},d)}));return function(d){return S.apply(this,arguments)}}()})})},_=q,ee=function(o){var p=o.values,C=o.visible,c=o.columns,y=o.onCancel,j=o.onSubmit,S=(0,h.useRef)();return(0,h.useEffect)(function(){if(S){var d;(d=S.current)===null||d===void 0||d.setFieldsValue(p)}},[p]),(0,a.jsx)(U.Z,{open:C,onCancel:function(){return y==null?void 0:y()},footer:null,children:(0,a.jsx)(k.QV,{type:"form",columns:c,formRef:S,onSubmit:function(){var d=f()(u()().mark(function P(T){return u()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:j==null||j(T);case 1:case"end":return I.stop()}},P)}));return function(P){return d.apply(this,arguments)}}()})})},ae=ee,$=n(82195);function re(F,o){return M.apply(this,arguments)}function M(){return M=f()(u()().mark(function F(o,p){return u()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,$.request)("/api/apply",x()({method:"POST",headers:{"Content-Type":"application/json"},data:o},p||{})));case 1:case"end":return c.stop()}},F)})),M.apply(this,arguments)}var E=n(45057),ne=n(11774),ue=n(91677),g=n(45360),z=n(42075),Q=n(4393),m=n(66828),B=n(71577),le=n(17673),K=ue.Z.Paragraph,te=function(){var o,p,C,c,y=(0,h.useState)(!1),j=A()(y,2),S=j[0],d=j[1],P=(0,$.useModel)("@@initialState"),T=P.initialState,w=(0,h.useState)(),I=A()(w,2),O=I[0],ie=I[1],oe=(0,h.useState)(),V=A()(oe,2),Z=V[0],ce=V[1],de=(0,h.useState)(!1),G=A()(de,2),ve=G[0],b=G[1],fe=(0,h.useState)(!1),L=A()(fe,2),pe=L[0],H=L[1],he=[{title:"\u63A5\u53E3\u540D\u79F0\uFF1A",dataIndex:"name",valueType:"text"},{title:"\u8054\u7CFB\u65B9\u5F0F\uFF1A",dataIndex:"contact",valueType:"text",formItemProps:{rules:[{required:!0}]}},{title:"\u63A5\u53E3\u5730\u5740\uFF1A",dataIndex:"address",valueType:"text"},{title:"\u7533\u8BF7\u63A5\u53E3\u4ECB\u7ECD\uFF1A",dataIndex:"introduction",valueType:"text",formItemProps:{rules:[{required:!0}]}}],me=[{title:"\u65B0\u5BC6\u7801",dataIndex:"userPassword",valueType:"password",formItemProps:{rules:[{required:!0,pattern:/^.{6,16}$/,message:"\u5BC6\u7801\u5FC5\u987B\u5927\u4E8E6\u4E2A\u5B57\u7B26\u4E14\u5C0F\u4E8E16\u4E2A\u5B57\u7B26\uFF01"}]}},{title:"\u786E\u8BA4\u5BC6\u7801",dataIndex:"checkPassword",valueType:"password",formItemProps:{rules:[{required:!0,pattern:/^.{6,16}$/,message:"\u5BC6\u7801\u5FC5\u987B\u5927\u4E8E6\u4E2A\u5B57\u7B26\u4E14\u5C0F\u4E8E16\u4E2A\u5B57\u7B26\uFF01"}]}}],v=T.loginUser,ye=function(){var i=f()(u()().mark(function l(){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return d(!0),r.prev=1,r.next=4,(0,E.Qq)({});case 4:ie(v),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),g.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF0C"+r.t0.message);case 10:return d(!1),r.abrupt("return");case 12:case"end":return r.stop()}},l,null,[[1,7]])}));return function(){return i.apply(this,arguments)}}(),ge=function(){var i=f()(u()().mark(function l(){var t;return u()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,E.ME)();case 3:t=s.sent,console.log(t),console.log(t.data),ce(t.data),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(0),g.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF0C"+s.t0.message);case 12:return s.abrupt("return");case 13:case"end":return s.stop()}},l,null,[[0,9]])}));return function(){return i.apply(this,arguments)}}(),Ce=function(){var i=f()(u()().mark(function l(){var t,r,s,e,J;return u()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,E.d1)();case 2:t=window.location,r=t.search,s=t.pathname,e=new URL(window.location.href).searchParams,J=e.get("redirect"),window.location.pathname!=="/user/login"&&!J&&$.history.replace({pathname:"/user/login",search:(0,le.stringify)({redirect:s+r})});case 6:case"end":return D.stop()}},l)}));return function(){return i.apply(this,arguments)}}(),je=function(){var i=f()(u()().mark(function l(t){var r;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.ZP.loading("\u7533\u8BF7\u4E2D\uFF01"),e.prev=1,e.next=4,re(x()({userAccount:v.userAccount},t));case 4:return r(),g.ZP.success("\u7533\u8BF7\u6210\u529F\uFF01"),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),r(),g.ZP.error("\u7533\u8BF7\u5931\u8D25\uFF01"),e.abrupt("return",!1);case 14:case"end":return e.stop()}},l,null,[[1,9]])}));return function(t){return i.apply(this,arguments)}}(),Se=function(){ge()},Pe=function(){var i=f()(u()().mark(function l(t){var r;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=g.ZP.loading("\u4FEE\u6539\u4E2D"),e.prev=1,e.next=4,(0,E.I)(x()({Id:v.id},t));case 4:return r(),g.ZP.success("\u4FEE\u6539\u6210\u529F,\u8BF7\u91CD\u65B0\u767B\u5F55\uFF01"),Ce(),e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),r(),g.ZP.error("\u4FEE\u6539\u5931\u8D25"),e.abrupt("return",!1);case 15:case"end":return e.stop()}},l,null,[[1,10]])}));return function(t){return i.apply(this,arguments)}}();(0,h.useEffect)(function(){ye()},[]);var we=`<dependency>
  <groupId>io.github.mufenge</groupId>
  <artifactId>mufengapi-clientsdk</artifactId>
  <version>1.0</version>
</dependency>`;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(ne._z,{title:"\u4E2A\u4EBA\u4E2D\u5FC3",loading:S,children:[(0,a.jsxs)(z.Z,{direction:"vertical",size:"middle",style:{display:"flex"},children:[(0,a.jsx)(Q.Z,{children:(0,a.jsxs)(m.Z,{column:4,title:"\u4E2A\u4EBA\u4FE1\u606F",size:"default",layout:"horizontal",extra:(0,a.jsx)(B.ZP,{onClick:function(){b(!0)},children:"\u4FEE\u6539\u5BC6\u7801"},"primary"),children:[(0,a.jsx)(m.Z.Item,{label:"\u540D\u79F0",children:v==null?void 0:v.userAccount}),(0,a.jsx)(m.Z.Item,{label:"\u6027\u522B",children:(v==null?void 0:v.gender)===((o="0")!==null&&o!==void 0?o:null)?"\u5973":"\u7537"}),(0,a.jsx)(m.Z.Item,{label:"\u8EAB\u4EFD",children:(p=O==null?void 0:O.userRole)!==null&&p!==void 0&&p?"\u7BA1\u7406\u5458":"\u666E\u901A\u7528\u6237"}),(0,a.jsx)(m.Z.Item,{label:"\u521B\u5EFA\u65F6\u95F4",children:v==null?void 0:v.createTime})]})}),(0,a.jsx)(Q.Z,{title:"\u5F00\u53D1\u8005\u5BC6\u94A5\uFF08\u5BFC\u5165sdk\u914D\u7F6Eak\u3001sk\u5373\u53EF\u8C03\u7528\u63A5\u53E3\uFF09",extra:(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(z.Z,{children:[(0,a.jsx)(B.ZP,{onClick:Se,children:"\u663E\u793A\u5BC6\u94A5"}),(0,a.jsx)(B.ZP,{onClick:function(){H(!0)},children:"\u6B22\u8FCE\u7533\u8BF7\u6DFB\u52A0\u63A5\u53E3"})]})}),children:(0,a.jsxs)(m.Z,{column:1,bordered:!0,size:"small",layout:"vertical",children:[(0,a.jsx)(m.Z.Item,{label:"accessKey",children:(0,a.jsx)(K,{copyable:{tooltips:!1},children:(C=Z==null?void 0:Z.accessKey)!==null&&C!==void 0?C:"******************"})}),(0,a.jsx)(m.Z.Item,{label:"secretKey",children:(0,a.jsx)(K,{copyable:{tooltips:!1},children:(c=Z==null?void 0:Z.secretKey)!==null&&c!==void 0?c:"******************"})}),(0,a.jsx)(m.Z.Item,{label:"sdk\u4F9D\u8D56",children:(0,a.jsx)(K,{copyable:!0,children:we})})]})})]}),(0,a.jsx)(ae,{columns:me,onSubmit:function(){var i=f()(u()().mark(function l(t){var r;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t);case 2:r=e.sent,r&&b(!1);case 4:case"end":return e.stop()}},l)}));return function(l){return i.apply(this,arguments)}}(),onCancel:function(){b(!1)},visible:ve}),(0,a.jsx)(_,{columns:he,onCancel:function(){H(!1)},onSubmit:function(){var i=f()(u()().mark(function l(t){var r;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(t);case 2:r=e.sent,r&&b(!1);case 4:case"end":return e.stop()}},l)}));return function(l){return i.apply(this,arguments)}}(),visible:pe}),(0,a.jsx)("br",{})]})})},se=te}}]);
