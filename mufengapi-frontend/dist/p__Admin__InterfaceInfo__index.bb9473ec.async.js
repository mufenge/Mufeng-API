"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[169],{84942:function(ae,K,t){t.r(K),t.d(K,{default:function(){return m}});var x=t(97857),v=t.n(x),Y=t(15009),u=t.n(Y),V=t(99289),p=t.n(V),S=t(5574),M=t.n(S),U=t(78721),L=t(5914),I=t(67294),f=t(85893),Z=function(n){var E=n.visible,$=n.columns,y=n.onCancel,j=n.onSubmit;return(0,f.jsx)(L.Z,{footer:null,open:E,onCancel:function(){return y==null?void 0:y()},children:(0,f.jsx)(U.QV,{type:"form",columns:$,onSubmit:function(){var w=p()(u()().mark(function O(g){return u()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:j==null||j(g);case 1:case"end":return _.stop()}},O)}));return function(O){return w.apply(this,arguments)}}()})})},J=Z,G=function(n){var E=n.values,$=n.visible,y=n.columns,j=n.onCancel,w=n.onSubmit,O=(0,I.useRef)();return(0,I.useEffect)(function(){if(O){var g;(g=O.current)===null||g===void 0||g.setFieldsValue(E)}},[E]),(0,f.jsx)(L.Z,{open:$,onCancel:function(){return j==null?void 0:j()},footer:null,children:(0,f.jsx)(U.QV,{type:"form",columns:y,formRef:O,onSubmit:function(){var g=p()(u()().mark(function k(_){return u()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:w==null||w(_);case 1:case"end":return F.stop()}},k)}));return function(k){return g.apply(this,arguments)}}()})})},q=G,P=t(51522),H=t(24969),A=t(11774),Q=t(77139),B=t(37476),X=t(17090),R=t(82195),h=t(45360),D=t(71577),s=t(85265),i=function(){var n=(0,I.useState)(!1),E=M()(n,2),$=E[0],y=E[1],j=(0,I.useState)(!1),w=M()(j,2),O=w[0],g=w[1],k=(0,I.useState)(!1),_=M()(k,2),N=_[0],F=_[1],C=(0,I.useRef)(),te=(0,I.useState)(),ee=M()(te,2),b=ee[0],W=ee[1],ue=function(){var c=p()(u()().mark(function l(a){var r,d;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.ZP.loading("\u6B63\u5728\u5220\u9664"),a){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,P.XG)({id:a.id});case 6:return r(),h.ZP.success("\u5220\u9664\u6210\u529F\uFF01"),(d=C.current)===null||d===void 0||d.reload(),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),r(),h.ZP.error("\u5220\u9664\u5931\u8D25"),e.abrupt("return",!1);case 17:case"end":return e.stop()}},l,null,[[3,12]])}));return function(a){return c.apply(this,arguments)}}(),se=function(){var c=p()(u()().mark(function l(a){var r,d;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.ZP.loading("\u53D1\u5E03\u4E2D"),a){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,P.GC)({id:a.id});case 6:return r(),h.ZP.success("\u53D1\u5E03\u6210\u529F\uFF01"),(d=C.current)===null||d===void 0||d.reload(),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),r(),h.ZP.error("\u53D1\u5E03\u5931\u8D25"),e.abrupt("return",!1);case 17:case"end":return e.stop()}},l,null,[[3,12]])}));return function(a){return c.apply(this,arguments)}}(),ie=function(){var c=p()(u()().mark(function l(a){var r,d;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.ZP.loading("\u4E0B\u7EBF\u4E2D"),a){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,P.zr)({id:a.id});case 6:return r(),h.ZP.success("\u4E0B\u7EBF\u6210\u529F\uFF01"),(d=C.current)===null||d===void 0||d.reload(),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),r(),h.ZP.error("\u4E0B\u7EBF\u5931\u8D25\uFF01"),e.abrupt("return",!1);case 17:case"end":return e.stop()}},l,null,[[3,12]])}));return function(a){return c.apply(this,arguments)}}(),le=function(){var c=p()(u()().mark(function l(a){var r,d;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.ZP.loading("\u4FEE\u6539\u4E2D"),e.prev=1,e.next=4,(0,P.T7)(v()({},a));case 4:return r(),h.ZP.success("\u4FEE\u6539\u6210\u529F"),(d=C.current)===null||d===void 0||d.reload(),e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),r(),h.ZP.error("\u4FEE\u6539\u5931\u8D25"),e.abrupt("return",!1);case 15:case"end":return e.stop()}},l,null,[[1,10]])}));return function(a){return c.apply(this,arguments)}}(),ne=function(){var c=p()(u()().mark(function l(a){var r,d;return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),e.prev=1,e.next=4,(0,P.Y4)(v()({},a));case 4:return r(),h.ZP.success("\u521B\u5EFA\u6210\u529F"),y(!1),(d=C.current)===null||d===void 0||d.reload(),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(1),r(),h.ZP.error("\u521B\u5EFA\u5931\u8D25\uFF01"),e.abrupt("return",!1);case 16:case"end":return e.stop()}},l,null,[[1,11]])}));return function(a){return c.apply(this,arguments)}}(),re=(0,R.useIntl)(),z=[{title:"id",dataIndex:"id",valueType:"text"},{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"name",valueType:"text",formItemProps:{rules:[{required:!0}]}},{title:"\u63CF\u8FF0",dataIndex:"description",valueType:"textarea"},{title:"\u8BF7\u6C42\u65B9\u6CD5",dataIndex:"method",valueType:"text"},{title:"\u63A5\u53E3\u5730\u5740",dataIndex:"url",valueType:"textarea"},{title:"\u8BF7\u6C42\u53C2\u6570",dataIndex:"requestParams",valueType:"text"},{title:"\u8BF7\u6C42\u5934",dataIndex:"requestHeader",valueType:"text"},{title:"\u54CD\u5E94\u5934",dataIndex:"responseHeader",valueType:"text"},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:"\u5173\u95ED",status:"Default"},1:{text:"\u5F00\u542F",status:"Processing"}}},{title:"\u521B\u5EFA\u65F6\u95F4",sorter:!0,dataIndex:"createTime",valueType:"dateTime",hideInForm:!0},{title:"\u66F4\u65B0\u65F6\u95F4",sorter:!0,dataIndex:"updateTime",valueType:"dateTime",hideInForm:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(l,a){return[(0,f.jsx)("a",{onClick:function(){g(!0),W(a)},children:"\u4FEE\u6539"},"config"),a.status===0?(0,f.jsx)("a",{onClick:function(){se(a)},children:"\u53D1\u5E03"},"config"):null,a.status===1?(0,f.jsx)("a",{onClick:function(){ie(a)},children:"\u4E0B\u7EBF"},"config"):null,(0,f.jsx)(D.ZP,{type:"text",danger:!0,onClick:function(){ue(a)},children:"\u5220\u9664"},"config2")]}}];return(0,f.jsxs)(A._z,{children:[(0,f.jsx)(Q.Z,{headerTitle:re.formatMessage({id:"pages.searchTable.title",defaultMessage:"\u63A5\u53E3\u5217\u8868"}),actionRef:C,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,f.jsxs)(D.ZP,{type:"primary",onClick:function(){y(!0)},children:[(0,f.jsx)(H.Z,{})," ",(0,f.jsx)(R.FormattedMessage,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"primary")]},request:function(){var c=p()(u()().mark(function l(a){var r;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,P.Kz)(v()({},a));case 2:if(r=o.sent,!(r!=null&&r.data)){o.next=7;break}return o.abrupt("return",{data:r.data.records||[],success:!0,total:(r==null?void 0:r.data.total)||0});case 7:return o.abrupt("return",{data:[],success:!1,total:0});case 8:case"end":return o.stop()}},l)}));return function(l){return c.apply(this,arguments)}}(),columns:z}),(0,f.jsx)(B.Y,{title:re.formatMessage({id:"pages.searchTable.createForm.newRule",defaultMessage:"New rule"}),width:"400px",open:$,onOpenChange:y,onFinish:function(){var c=p()(u()().mark(function l(a){var r;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ne(a);case 2:r=o.sent,r&&(y(!1),C.current&&C.current.reload());case 4:case"end":return o.stop()}},l)}));return function(l){return c.apply(this,arguments)}}()}),(0,f.jsx)(q,{columns:z,onSubmit:function(){var c=p()(u()().mark(function l(a){var r;return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,le(a);case 2:r=o.sent,r&&(g(!1),W(void 0),C.current&&C.current.reload());case 4:case"end":return o.stop()}},l)}));return function(l){return c.apply(this,arguments)}}(),onCancel:function(){g(!1),N||W(void 0)},visible:O,values:b||{}}),(0,f.jsx)(s.Z,{width:600,open:N,onClose:function(){W(void 0),F(!1)},closable:!1,children:(b==null?void 0:b.name)&&(0,f.jsx)(X.vY,{column:2,title:b==null?void 0:b.name,request:p()(u()().mark(function c(){return u()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",{data:b||{}});case 1:case"end":return a.stop()}},c)})),params:{id:b==null?void 0:b.name},columns:z})}),(0,f.jsx)(J,{columns:z,onCancel:function(){y(!1)},onSubmit:function(l){return ne(l)},visible:$})]})},m=i},51522:function(ae,K,t){t.d(K,{GC:function(){return X},Kz:function(){return H},T7:function(){return h},US:function(){return f},XG:function(){return L},Y4:function(){return M},zr:function(){return Q}});var x=t(15009),v=t.n(x),Y=t(97857),u=t.n(Y),V=t(99289),p=t.n(V),S=t(82195);function M(s,i){return U.apply(this,arguments)}function U(){return U=p()(v()().mark(function s(i,m){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,S.request)("/api/interfaceInfo/add",u()({method:"POST",headers:{"Content-Type":"application/json"},data:i},m||{})));case 1:case"end":return n.stop()}},s)})),U.apply(this,arguments)}function L(s,i){return I.apply(this,arguments)}function I(){return I=p()(v()().mark(function s(i,m){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,S.request)("/api/interfaceInfo/delete",u()({method:"POST",headers:{"Content-Type":"application/json"},data:i},m||{})));case 1:case"end":return n.stop()}},s)})),I.apply(this,arguments)}function f(s,i){return Z.apply(this,arguments)}function Z(){return Z=p()(v()().mark(function s(i,m){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,S.request)("/api/interfaceInfo/get",u()({method:"GET",params:u()({},i)},m||{})));case 1:case"end":return n.stop()}},s)})),Z.apply(this,arguments)}function J(s,i){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime().mark(function s(i,m){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/interfaceInfo/invoke",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:i},m||{})));case 1:case"end":return n.stop()}},s)})),G.apply(this,arguments)}function q(s,i){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function s(i,m){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/interfaceInfo/list",_objectSpread({method:"GET",params:_objectSpread({},i)},m||{})));case 1:case"end":return n.stop()}},s)})),P.apply(this,arguments)}function H(s,i){return A.apply(this,arguments)}function A(){return A=p()(v()().mark(function s(i,m){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,S.request)("/api/interfaceInfo/list/page",u()({method:"GET",params:u()({},i)},m||{})));case 1:case"end":return n.stop()}},s)})),A.apply(this,arguments)}function Q(s,i){return B.apply(this,arguments)}function B(){return B=p()(v()().mark(function s(i,m){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,S.request)("/api/interfaceInfo/offline",u()({method:"POST",headers:{"Content-Type":"application/json"},data:i},m||{})));case 1:case"end":return n.stop()}},s)})),B.apply(this,arguments)}function X(s,i){return R.apply(this,arguments)}function R(){return R=p()(v()().mark(function s(i,m){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,S.request)("/api/interfaceInfo/online",u()({method:"POST",headers:{"Content-Type":"application/json"},data:i},m||{})));case 1:case"end":return n.stop()}},s)})),R.apply(this,arguments)}function h(s,i){return D.apply(this,arguments)}function D(){return D=p()(v()().mark(function s(i,m){return v()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,S.request)("/api/interfaceInfo/update",u()({method:"POST",headers:{"Content-Type":"application/json"},data:i},m||{})));case 1:case"end":return n.stop()}},s)})),D.apply(this,arguments)}}}]);
